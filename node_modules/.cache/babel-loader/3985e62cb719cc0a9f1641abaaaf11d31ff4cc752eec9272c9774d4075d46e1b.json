{"ast":null,"code":"var _jsxFileName = \"/home/project/src/components/RecentActivity.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport activityData from '../data/recentActivity.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Toast = ({\n  activity\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"fixed bottom-4 right-4 bg-white rounded-lg shadow-xl p-4 max-w-sm w-full transform transition-all duration-500 opacity-0 translate-y-2 animate-fade-in-up\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-shrink-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-10 w-10 rounded-full bg-brand-600 flex items-center justify-center text-white font-bold\",\n        children: activity.name.charAt(0)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 8,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ml-3 w-0 flex-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm font-medium text-gray-900\",\n        children: activity.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-sm text-gray-500\",\n        children: [\"Purchased \", activity.product, \" from \", activity.location]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-xs text-gray-400\",\n        children: activity.timeAgo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 5,\n  columnNumber: 3\n}, this);\n_c = Toast;\nfunction shuffleArray(array) {\n  const newArray = [...array];\n  for (let i = newArray.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];\n  }\n  return newArray;\n}\nexport default function RecentActivity() {\n  _s();\n  const [activities, setActivities] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [batchIndex, setBatchIndex] = useState(0);\n  const [currentToast, setCurrentToast] = useState(null);\n  const lastShownName = useRef('');\n  const initializeActivities = useCallback(() => {\n    setActivities(shuffleArray(activityData.activities));\n    setCurrentIndex(0);\n    setBatchIndex(0);\n  }, []);\n  useEffect(() => {\n    initializeActivities();\n  }, [initializeActivities]);\n  const showNextToast = useCallback(() => {\n    if (currentIndex >= activities.length) {\n      initializeActivities();\n      return;\n    }\n    let nextIndex = currentIndex;\n    while (nextIndex < activities.length && activities[nextIndex].name === lastShownName.current) {\n      nextIndex++;\n    }\n    if (nextIndex >= activities.length) {\n      initializeActivities();\n      return;\n    }\n    const activity = activities[nextIndex];\n    lastShownName.current = activity.name;\n    setCurrentToast(activity);\n    setCurrentIndex(nextIndex + 1);\n    setBatchIndex(prev => (prev + 1) % 4);\n    setTimeout(() => {\n      setCurrentToast(null);\n    }, 5000);\n  }, [activities, currentIndex, initializeActivities]);\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollPercent = window.scrollY / (document.documentElement.scrollHeight - window.innerHeight) * 100;\n      const milestones = [25, 50, 75, 100];\n      if (milestones.some(milestone => scrollPercent >= milestone)) {\n        if (!currentToast && batchIndex < 4) {\n          showNextToast();\n        }\n      }\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [currentToast, batchIndex, showNextToast]);\n  return currentToast ? /*#__PURE__*/_jsxDEV(Toast, {\n    activity: currentToast\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 25\n  }, this) : null;\n}\n_s(RecentActivity, \"Xj9eNIAm0hYSaKVeBRGls6yzyno=\");\n_c2 = RecentActivity;\nvar _c, _c2;\n$RefreshReg$(_c, \"Toast\");\n$RefreshReg$(_c2, \"RecentActivity\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","activityData","jsxDEV","_jsxDEV","Toast","activity","className","children","name","charAt","fileName","_jsxFileName","lineNumber","columnNumber","product","location","timeAgo","_c","shuffleArray","array","newArray","i","length","j","Math","floor","random","RecentActivity","_s","activities","setActivities","currentIndex","setCurrentIndex","batchIndex","setBatchIndex","currentToast","setCurrentToast","lastShownName","initializeActivities","showNextToast","nextIndex","current","prev","setTimeout","handleScroll","scrollPercent","window","scrollY","document","documentElement","scrollHeight","innerHeight","milestones","some","milestone","addEventListener","removeEventListener","_c2","$RefreshReg$"],"sources":["/home/project/src/components/RecentActivity.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport activityData from '../data/recentActivity.json';\n\nconst Toast = ({ activity }) => (\n  <div className=\"fixed bottom-4 right-4 bg-white rounded-lg shadow-xl p-4 max-w-sm w-full transform transition-all duration-500 opacity-0 translate-y-2 animate-fade-in-up\">\n    <div className=\"flex items-center\">\n      <div className=\"flex-shrink-0\">\n        <div className=\"h-10 w-10 rounded-full bg-brand-600 flex items-center justify-center text-white font-bold\">\n          {activity.name.charAt(0)}\n        </div>\n      </div>\n      <div className=\"ml-3 w-0 flex-1\">\n        <p className=\"text-sm font-medium text-gray-900\">{activity.name}</p>\n        <p className=\"mt-1 text-sm text-gray-500\">\n          Purchased {activity.product} from {activity.location}\n        </p>\n        <p className=\"mt-1 text-xs text-gray-400\">{activity.timeAgo}</p>\n      </div>\n    </div>\n  </div>\n);\n\nfunction shuffleArray(array) {\n  const newArray = [...array];\n  for (let i = newArray.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];\n  }\n  return newArray;\n}\n\nexport default function RecentActivity() {\n  const [activities, setActivities] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [batchIndex, setBatchIndex] = useState(0);\n  const [currentToast, setCurrentToast] = useState(null);\n  const lastShownName = useRef('');\n\n  const initializeActivities = useCallback(() => {\n    setActivities(shuffleArray(activityData.activities));\n    setCurrentIndex(0);\n    setBatchIndex(0);\n  }, []);\n\n  useEffect(() => {\n    initializeActivities();\n  }, [initializeActivities]);\n\n  const showNextToast = useCallback(() => {\n    if (currentIndex >= activities.length) {\n      initializeActivities();\n      return;\n    }\n\n    let nextIndex = currentIndex;\n    while (nextIndex < activities.length && activities[nextIndex].name === lastShownName.current) {\n      nextIndex++;\n    }\n\n    if (nextIndex >= activities.length) {\n      initializeActivities();\n      return;\n    }\n\n    const activity = activities[nextIndex];\n    lastShownName.current = activity.name;\n    setCurrentToast(activity);\n    setCurrentIndex(nextIndex + 1);\n    setBatchIndex((prev) => (prev + 1) % 4);\n\n    setTimeout(() => {\n      setCurrentToast(null);\n    }, 5000);\n  }, [activities, currentIndex, initializeActivities]);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;\n      const milestones = [25, 50, 75, 100];\n      \n      if (milestones.some(milestone => scrollPercent >= milestone)) {\n        if (!currentToast && batchIndex < 4) {\n          showNextToast();\n        }\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [currentToast, batchIndex, showNextToast]);\n\n  return currentToast ? <Toast activity={currentToast} /> : null;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}